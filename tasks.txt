√ create tone
√ delete tone
√ adjust start/end of new tone
√ adjust pitch of new note
√ adjust start/end of existing tone
√ add note to tone for arpeggio
√ set scale constraint
√ allow deleting existing notes off the scale
√ set key
√ 3 channels
√ detect when the song stops and restart it. force stop the old SoundChannel for sanity.
√ separate song editing from Main.mxml, put in SongEditor.mxml
√ create Track.mxml, which shows the pattern number of each bar, the playhead
√ 8 patterns for lead, 4 for harmony and bass, assign with number keys
√ 16 bars
√ select channel with up and down arrows
√ select bar with left and right arrows
√ custom looping
√ pausing with space, skipping bars with []
√ tempo dropdown: fast, med, slow
√ save, load
√ beat count, part count
√ show the pitch letters: C, C#, D, etc
√ show ghosts of the notes in the other channels
√ waveform choices
√ bitcrushing the triangle wave
√ noise channel
√ Export to WAV
√ rearrange and hide panels to emphasize important features for beginners. flags for showing fifth, other channels, note names
√ illustrate loop area better
√ allow up to 8 patterns in all channels?
√ when you hover over a selected pattern/channel, instead of the box preview, show a triangle up or down depending on where your mouse is. the other triangle is hollowed out.
√ fix wrap around clipping bug on export
√ fix focus bug: spacebar reexports song!
√ The start of a tone can always snap to an existing tone end.
√ Be more lenient about starting at beats 2 and 3.
√ when bending pitch, multiply over each sample instead of adding.
√ copy length to default when editing length of notes. 
√ sawtooth!
√ piano along left side to preview notes? replace "show letters"
√ instead of conditionally reseting the period, try period -= int(period). benchmark!
√ pressing [] shouldn't escape the loop
√ button for export, clean slate, undo/redo, pause
√ replace ChangeFragment with ChangeSong, preserve pattern objects for undo history
√ compress bar data: 2 bars per character.
√ compress tone shapes
√ compress/decompress notes. confirm drums work. empirically optimize prev note count.
√ decompress tone shapes
√ get a domain name!
√ put song in url fragment
√ to save on file size, get rid of that flex text field at the top. 
√ put on website!
√ set up some basic html
√ new waves
√ source control
√ karplus strong filter + decay
√ separate main file for offline.
√ take focus from "save as wav" button after clicking it!
√ changing preferences doesn't need to be undoable but should update display.
√ save "preferences" to localSharedObject
√ pausing should actually stop SampleDataEvents
√ as3 lib usage example
√ fix wave drop down menu
√ create README
√ create public version number
√ reenable filter in one drop down menu
√ tremelo/vibrato choices
√ for chorus, have two periods at multiples of the main freq. jitter on arpeggio slices?
√ volume options per channel
√ add license to code
√ link to source in html
√ link to offline version
√ add copyright disclaimer to page
√ link to twitter
√ donation button
√ rename checkmark wave
√ fix piano initialize after mouse event error
√ tweak vibrato depth and speed
√ when tone ends reset period, fixes harp pops and union chorus phase
√ slow down decay soft
√ whole tone scale
√ increment format number, port settings from old version
√ center waves on average amplitude to avoid pops after lowpass
√ move the playhead graphic gradually toward the next position. 
√ always fade out volume over last arpeggio
√ attack: hard, soft, slide. don't reset period when sliding!
√ octave scroll bar, with preference option to disable it
√ load old songs with octave offset, default pitch... 
√ bring back the old constant volume option, and make it the default for songs loaded with the old format.
√ widen the window to allow the "envelope" label
√ copy paste patterns
√ put the edit buttons in one menu. undo, copy/paste, clean slate, etc
√ copy and paste keyboard commands
√ perform dynamic range compression, increase base volume
√ global volume control
√ drum volume drop down menu
√ clip rect on pattern editor
√ indicate recommended beats/bar 8 somehow
√ fifths chorus option
√ create pitch bend, triggered by vertical dragging. 
√ when adding arpeggio to a pitch bend, offset the arpeggio note by the current interval.
√ don't create new arpeggios overlapping old arpeggios on pitch bends. 
√ tweak hit detection on pitch bends so that it's a little tighter than a box
√ When the pitch bend changes the initial pitch, recalibrate all notes of the tone. 
√ don't let pitch bends escape the normal pitch range, especially with arpeggios. check both new arpeggios and new pitch bends.
√ tweak rendering of pitch bends so that they don't become tiny threads. 
√ volume pins
√ volume dragging doesn't seem to be relative to previous volume
√ dragging pitch bend off the side of the editor causes instability
√ copy the volume pin structure for future tones, on a per channel basis.
√ disable volume control when creating new tones with horizontal dragging. 
√ reset default tone shape when cleaning slate
√ dragging horizontally should drag the pins, not just the tone endpoints. 
√ correctly move pins when swingifying, etc.
√ convert pattern editor from mxml to a sprite
√ modal dialog for customizing song duration
√ able to access patterns over 9 with multiple keystrokes
√ deserialize grouped channel settings
√ make sure keyboard input is disabled in modal dialog
√ serialize pattern id, using as many bits as needed.
√ make sure that all possible pattern bitstrings fit within 4096 characters, or increase the limit. 
√ make sure you can't copy patterns between drums and tonal instruments
√ when shrinking bar count, make sure to bound loop, barScrollPos, playhead, etc
√ use customized bar count, create GUI for scrolling bars somehow. 
√ empty patterns get special 1-bit treatment
√ serialize pattern instruments
√ Benchmark synthesized vs precomputed noise. Precomputed would allow you to select non chip tune style noise. 
√ rebalance drum volume range. bass is too quiet, cymbal too loud.
√ each drum wave gets volume scale
√ don't autoplay until URL fragment has been passed through
√ drums get custom lowpass based on change rate
√ can drums use the other envelope/slide options?
√ tones that fade out volume completely shouldn't slide to next tone
√ attack transitions that slide should let the decay filter smoothly rise again to better approximate strings/violin. also repeated notes shouldn't fade out automatically. 
√ volume scaling from chorus effect: Synchronized waves are louder than waves that are almost but not quite the same frequency. Ratio: square root of two!
√ medium sustain filter, slower sharp filter...
√ make a non-editing embeddable player, in an iframe.
√ server RSA authentication
√ figure out song/playlist distinction in embedded players
√ figure out data format for published songs. 
√ mouse is attracted to active note half a note above cursor, but not below cursor, even overrides active note at cursor to highlight note above. 
√ upper boundary isn't working with drum portamento
√ retro drums really need more sharpness in upper range
√ oops, could press tab a few times to get keyboard focus away from prompt
√ generalize prompt functionality
√ preliminary publish prompt
√ fix piano pitch. still horribly broken!
√ twitter stream on the side
√ color-blind friendly colors
√ buttons to transpose up and down to the next valid note
√ dedicated silent 0 pattern
√ take focus away from master volume after clicking it
√ wav export intro, loop count, outro
√ disable intro and outro checkboxes when the loop encompasses the entire song
√ javascript mobile support!
√ fix those flex dropdowns so they stop throwing errors
√ Reverb
√ optimize those Math functions in Synth
√ make play and volume controls prettier
√ MIDI export
√ I broke safari export? (Did it work before? Apparently so? Either fix it or add warning)
√ Put beepbox in focus on page load.
√ Make the standalone version use js.
√ minify
√ Update the mobile instructions, "vibrate switch" isn't a thing anymore.

- Chrome seems to be stuttering a lot on startup when going from one beepbox tab to a new one. Maybe delay it a bit before playing?
- Make an embeddable song player. (See below.) 
- update flash version to include bowed chorus and reverb? does anyone still care?
- use the canvas size thing to make the svg volume icon scalable.
- responsive design layout. figure out how to layout portrait mode. can I use floats to pull the pattern editor out of the stack?
- highlight note edge extensions on touch
- manifests to allow installing web app as mobile app
- can I improve the interaction for volume envelope dragging and pitch dragging?
- do audio worker threads work yet? "AudioWorkerNode" vs "AudioWorkletNode"???
- on linux chrome, select menus use same background color as select element, it's a bit too bright when highlighted.
- the method for cycling patterns on a bar is inadequate on touchscreen... use select menu?
- fix it so that the browser back button isn't useless. save state before and after pasting new song. 
- the mobile back button is "effectively" undo... but actually extends the undo history, rather than backtracks. Can I make it perform the correct undo? (wait, what if you undo past the start and go back to a different page altogether, do you lose your undo history?)
- octave scroll dragging should just be one History change. 
- it would be nice if dragging sliders didn't generate a bunch of undo history events.
- It would be nice if "escape" closed modal dialogs/prompts. 
- multitouch?
- new preferences: follow playhead, play at load?
- custom number of channels?
- pitch bends mixed with arpeggios don’t properly check min/max bounds
- export mp3 and ogg?
- translation/localization
- tooltips
- a way to pre-generate a javascript sound buffer.
- Get in touch with ludum dare about linking to beepbox: http://www.ludumdare.com/compo/tools/
- get in touch with http://youcanmakevideogames.com/resources/music
- illustrate arpeggio texture on tones with multiple notes, striped fill
- under the file menu make a "share" button that displays a link that can be copied easily on mobile. 
- remember recent songs in cookies or local shared object.
- Allow mobile to start playing on first interaction?
- Bring beepbox and openscores coding styles closer together. See html functions, Synth-vs-SongPlayer
- piano should still play when song is paused
- asynchronous export
- document synth api
- disable canvas pixel blurring in high dpi? why doesn't it work yet? (or just replace piano/drums with svg)
- show playhead on loop editor?

EMBEDDED PLAYER:
- add "Share" or "HTML Embed" button under export? or "File" menu. Include "title" and "author" fields.
- volume control
- make a random guid on startup. When clicked play, set it to a variable in sessionStorage or localStorage. periodically check to make sure that it's still set to that, otherwise pause. (maybe add preferences to ignore it.)
- should I support both flash and js embedded players?
- make sure there's only one beep box player playing simultaneously. 
- sharing menu uses localSharedObject to remember your settings
- make sure bots ignore embed.html
- simple mode just plays the song. advanced mode has title, author, cc license...
- cc license choices
- link to cc website for more info
- red close button in corner
- button to add more songs to list extracted from urls
- add titles to songs
- update embed player to show all songs
- song rearranging
- song loop count
- song fade-in/out
- example songs on the website. Mario overworld? Tetris is basically public domain...
- rapid document/fragment changes due to undo cause undefined state
- when starting at a bar where all tones are at the end of the bar, go ahead and skip the beginning of the bar, up to maybe one beat before the first tone.
- illustrate volume envelope dragging to make it less confusing. 
- put songs in browser history before/after pasting new songs.
- offsite album player, with scrolling notes. hashbang urls, bot indexable. 

AUTHENTICATION:
- show light "http://" or "http://www.beepbox.com/" in url fields while empty
- round trip to server auth. How are the link, iframe html, and twitter button presented?
- author, password, website
- non-editable songs in list from pre-published playlists
- key stretching, salt, at least partially on server
- cc license enforcement
- store author/password is localSO or cookie, if "remember me" is flagged
- flag to reveal password, otherwise show dots
- underline author name as URL in embed player
- "inspire me" button for passwords, shows prompt with a random button that gives you three-ish words, and requests that you personalize your password by adding some more words and punctuation to complete the thought. 
- main website should break out of iframe for security: http://usablelayout.com/articles/automatically-break-out-iframe

MAYBE:
- per-pattern drop down menu for instrument selection, prepopulated with common ones. 
- fade in/out checkboxes
- derive song length from number of bars with non-zero patterns
- more “effect” keys like stutter, scratch, scrub, drag playhead, speedmult, whatever.
- detect vibrate switch
- circle of fifths display
- allow drums to be divided into shorter parts, crucial for songs like the mario overworld
- 5 parts per beat?
- double number of beat divisions
- it would be awesome to have a couple of modes where when you drag the playhead, it overrides the tempo of the song to match the motion of your mouse. In one mode it distorts the pitch like a DJ table, in the other it plays the normal pitch like SoundSPEAR.
- Distortion applying to blue and yellow channels
- Dim the column occupied by a tone to communicate mono voice?
- rename barpattern to pattern, bareditor to patterneditor, attack to envelope...
- snap to tone edges from other channels, to help making NES style harmonies. 
- new song setting: distortion, nonlinear mixing of channels...
- If mouse drags at least two beats closer to start than previous max, then enter precise mode where you can have any length. If flipping to backwards or <= doc.parts, reset out of precise mode. 
- compacting and concatenating songs!
- check to see if the drum frequency range could be usefully extended
- visual feedback when a note is played
- when on the same pitch as a tone in an adjacent part, and you're really close to it, and you drag horizontally, go ahead and drag that adjacent tone instead of creating a new one.
- options for timing offset
- phoneme filter option, imitate vowels and voiced consonants with IIR filters, fall back on noise channel for S, T, CH, SH, etc. 
- a facebook app to put songs in your profile
- preload some common tone shapes into the recentShape list. increment format number.
- make some button to bookmark the song in your browser
- Make a bunch of asserts, that the tones don't overlap, that the pins have the same duration as the tones, that the pins are in order, etc. And trace out the arguments to every change constructor and maybe even trace out the entire bar document data after every step. 
